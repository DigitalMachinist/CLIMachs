<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CLIMachs Class: CLI</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.united.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">CLIMachs</a>
	</div>
	<div class="navbar-collapse">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="CLIMachs.cli.html">CLIMachs.cli</a></li><li><a href="CLIMachs.collections.html">CLIMachs.collections</a></li><li><a href="CLIMachs.errors.html">CLIMachs.errors</a></li><li><a href="CLIMachs.fn.html">CLIMachs.fn</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a></li><li><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></li><li><a href="CLIMachs.cli.CommandPermissions.html">CLIMachs.cli.CommandPermissions</a></li><li><a href="CLIMachs.cli.CommandResponse.html">CLIMachs.cli.CommandResponse</a></li><li><a href="CLIMachs.collections.Callback.html">CLIMachs.collections.Callback</a></li><li><a href="CLIMachs.collections.UniqueCollection.html">CLIMachs.collections.UniqueCollection</a></li><li><a href="CLIMachs.collections.UniqueKeyedCollection.html">CLIMachs.collections.UniqueKeyedCollection</a></li><li><a href="CLIMachs.errors.ArgumentError.html">CLIMachs.errors.ArgumentError</a></li><li><a href="CLIMachs.errors.CommandError.html">CLIMachs.errors.CommandError</a></li><li><a href="CLIMachs.errors.ConflictError.html">CLIMachs.errors.ConflictError</a></li><li><a href="CLIMachs.errors.DependencyError.html">CLIMachs.errors.DependencyError</a></li><li><a href="CLIMachs.errors.NotFoundError.html">CLIMachs.errors.NotFoundError</a></li>
				</ul>
			</li>
			
		</ul>
	</div>
</div>
</div>


<div class="container">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
    		<h1 class="page-title">Class: CLI</h1>
			

	<h1 class="page-title">Class: CLI</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="CLIMachs.cli.html">.cli</a>.</span>
        
        CLI
        </h2>
        
            <div class="class-description"><p>The CLI object should be used as a singleton. It is the entrypoint for all 
chat message commands to interface with the CLI and cause the execution of commands.</p></div>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<dt>
    <h4 class="name" id="CLI"><span class="type-signature"></span>new CLI<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-896">line 896</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt class="name" id="allCommands">
    <h4><span class="type-signature">&lt;readonly> </span>allCommands<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Returns a flat array containing all of the commands in the CLI's lexicon, 
ordered alphabetically by signature then hierarchically (i.e. [ 'init', 'init add', 
'init rm', 'perm' 'stat' ] ). Note: This example shows signatures to explain, but an 
Array of Command objects is returned.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1672">line 1672</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<dt class="name" id="commands">
    <h4><span class="type-signature"></span>commands<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>The top-level list of commands available to users of the CLI. Note: This 
getter returns a shallow copy of the data array, so operating on it will not affect the 
collection.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-915">line 915</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<dt class="name" id="permissionGroups">
    <h4><span class="type-signature"></span>permissionGroups<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>A complete list of the valid permission groups that the CLI will use to 
validate messages. Each CommandPermissions object defines a callback that is tested when 
a user attempts to execute the relevant command, and if any CommandPermissions's callback 
returns true, then the user is permitted to execute the command. The GM is not included 
in this list as the GM is permitted to execute any command at any time. Note: This 
getter returns a shallow copy of the data array, so operating on it will not affect the 
collection. Note: This getter returns a shallow copy of the data array, so operating on 
it will not affect the collection.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1606">line 1606</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<dt class="name" id="preCommandMiddleware">
    <h4><span class="type-signature"></span>preCommandMiddleware<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>An ordered list of middleware callbacks that run when any command is 
executed, just before the matched command is executed. These will only run if a command 
is matched. Note: This getter returns a shallow copy of the data array, so operating on 
it will not affect the collection.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1625">line 1625</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<dt class="name" id="preResponseMiddleware">
    <h4><span class="type-signature"></span>preResponseMiddleware<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>An ordered list of middleware callbacks that run when any command is 
executed, just before a response is returned to the caller. These will run only if the 
command executes to completion without errors. Note: This getter returns a shallow copy 
of the data array, so operating on it will not affect the collection.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1640">line 1640</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<dt class="name" id="preRoutingMiddleware">
    <h4><span class="type-signature"></span>preRoutingMiddleware<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>An ordered list of middleware callbacks that run when any command is 
executed, just before the tokens are passed to the routing system. These will run if 
there are 1 or more tokens. Note: This getter returns a shallow copy of the data array, 
so operating on it will not affect the collection.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1655">line 1655</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="addCommand"><span class="type-signature"></span>addCommand<span class="signature">(command)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds a subcommand to extend the behaviour of this command.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>command</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


            
            </td>

            

            

            <td class="description last"><p>The Command object to add as a command.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-929">line 929</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addPermissionGroup"><span class="type-signature"></span>addPermissionGroup<span class="signature">(groupName, callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds a permission group to the set of available groups.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the new group to add.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>A callback function to test whether a message belongs to this group, of the form: 
( message ) =&gt; {} : boolean.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-979">line 979</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addPreCommandMiddleware"><span class="type-signature"></span>addPreCommandMiddleware<span class="signature">(key, callback, <span class="optional">index</span>)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Add a middleware callback to run immediately before the matched command is 
executed. If index is supplied, the middleware will be spliced into the middleware order 
at the given index, pushing all items after it ahead one place.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		
		<th>Default</th>
		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The identifier to use later to remove the callback.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The middleware callback function of the signature:
( Command, Array<tokens>, Message ) =&gt; {} : boolean.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    -1
                
                </td>
            

            <td class="description last"><p>The index to insert the middleware at. A value of -1 is interpreted as &quot;add this 
middleware at the tail of the array&quot;.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1012">line 1012</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addPreResponseMiddleware"><span class="type-signature"></span>addPreResponseMiddleware<span class="signature">(key, callback, <span class="optional">index</span>)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Add a middleware callback to run immediately before a response is returned 
for a command. If index is supplied, the middleware will be spliced into the middleware 
order at the given index, pushing all items after it ahead one place.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		
		<th>Default</th>
		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The identifier to use later to remove the callback.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The middleware callback function of the signature
( Command, Array<tokens>, CommandResponse ) =&gt; {} : boolean.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    -1
                
                </td>
            

            <td class="description last"><p>The index to insert the middleware at. A value of -1 is interpreted as &quot;add this 
middleware at the tail of the array&quot;.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1055">line 1055</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addPreRoutingMiddleware"><span class="type-signature"></span>addPreRoutingMiddleware<span class="signature">(key, callback, <span class="optional">index</span>)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Add a middleware callback to run immediately before message routing is 
processed. If index is supplied, the middleware will be spliced into the middleware 
order at the given index, pushing all items after it ahead one place.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		
		<th>Default</th>
		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The identifier to use later to remove the callback.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The middleware callback function of the signature:
( Array<tokens>, Message ) =&gt; {} : boolean.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    -1
                
                </td>
            

            <td class="description last"><p>The index to insert the middleware at. A value of -1 is interpreted as &quot;add this 
middleware at the tail of the array&quot;.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1097">line 1097</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.CLI.html">CLIMachs.cli.CLI</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="evaluate"><span class="type-signature"></span>evaluate<span class="signature">(message)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.CommandResponse.html">CLIMachs.cli.CommandResponse</a>|Array}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Evaluate the given message by tokenizing the message, routing it to the 
appropriate command, checking permissions, executing the command if permitted and 
finally returning the response(s) back to the caller.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Message</span>


            
            </td>

            

            

            <td class="description last"><p>The Roll20 API Message object received from chat input.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1140">line 1140</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A Response object containing a message, recipients, a name to send the message as, and 
potentially special styling data, or an array of them.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.CommandResponse.html">CLIMachs.cli.CommandResponse</a></span>
|

<span class="param-type">Array</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="onChatMessage"><span class="type-signature"></span>onChatMessage<span class="signature">(message)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Handle chat messages by evaluating them and sending out the response(s).</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Message</span>


            
            </td>

            

            

            <td class="description last"><p>The Roll20 API chat message object received from chat input.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1536">line 1536</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="onReady"><span class="type-signature"></span>onReady<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Perform configuration tasks dependent upon the Roll20 ready event.</p>
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1586">line 1586</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeCommand"><span class="type-signature"></span>removeCommand<span class="signature">(signature)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes a command from the CLI lexicon by its signature.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>signature</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The signature of the command to be removed.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1185">line 1185</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removePermissionGroup"><span class="type-signature"></span>removePermissionGroup<span class="signature">(groupName)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes a permission group from the set of available groups.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The key identifying the group to remove.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1216">line 1216</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removePreCommandMiddleware"><span class="type-signature"></span>removePreCommandMiddleware<span class="signature">(key)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Remove a middleware that would run before command execution using its key.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The key identifying the middleware to remove.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1256">line 1256</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removePreResponseMiddleware"><span class="type-signature"></span>removePreResponseMiddleware<span class="signature">(key)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Remove a middleware that would run before returning a response using its key.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The key identifying the middleware to remove.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1287">line 1287</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removePreRoutingMiddleware"><span class="type-signature"></span>removePreRoutingMiddleware<span class="signature">(key)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Remove a middleware that would run before message routing using its key.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The key identifying the middleware to remove.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1318">line 1318</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Returns itself to support function call chaining.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="route"><span class="type-signature"></span>route<span class="signature">(tokens)</span><span class="type-signature"> &rarr; {<a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Given a tokenized command message, determine the command intended to be run 
and execute it.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>An array of chat message command tokens.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1349">line 1349</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>The matching Command, or null if no commands matched the input.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="CLIMachs.cli.Command.html">CLIMachs.cli.Command</a></span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="sendResponse"><span class="type-signature"></span>sendResponse<span class="signature">(response)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Send the text contents of a CommandResponse over Roll20 chat.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CLIMachs.cli.CommandResponse.html">CLIMachs.cli.CommandResponse</a></span>


            
            </td>

            

            

            <td class="description last"><p>The CommandResponse to send over chat.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1458">line 1458</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="tokenize"><span class="type-signature"></span>tokenize<span class="signature">(messageContents)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Given the text message contents of a Roll20 Message object received from chat 
input, break in into an array containing a command and any passed arguments.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>messageContents</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The message contents of the Roll20 Message object.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="cli.js.html">cli.js</a>,
				 <a href="cli.js.html#sunlight-1-line-1497">line 1497</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A series of string tokens representing a command and any passed arguments that were 
parsed from the input string.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Array</span>


	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3"></div>
		</div>
	

</div>
</div>


<footer>


	<span class="copyright">
	CLIMachs Copyright © 2015 Jeff Rose.
	</span>
	<br />

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a>
	on Wed Sep 23rd 2015 using the <a
	href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
</span>
</footer>

<!--<script src="scripts/sunlight.js"></script>-->
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/bootstrap-dropdown.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "h1,h2,h3,h4",
		showAndHide : false,
		scrollTo    : "100px"
	} );

	$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();
	//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			lang = "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );
} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


</body>
</html>